# Modular LLM Scoring Configuration
# =================================
#
# This file controls which LLM model is used for which email category.
#
# ⚠️  IMPORTANT: For application processing (reprocess_applications.py),
#     the single source of truth is: backend/core/ai/config_constants.py
#     Look for APPLICATION_MODEL and APPLICATION_MODEL_DETAILED
#
# PRECEDENCE ORDER (most important first):
# 1. Environment Variables (e.g., APPLICATION_LLM_MODEL)
# 2. Exact category match in 'categories' (e.g., 'application-phd')
# 3. Wildcard pattern match in 'categories' (e.g., 'application-*')
# 4. The 'default' configuration
#
# SUPPORTED PROVIDERS (auto-detected from llm_endpoints.yaml):
# - azure: gpt-5-mini, gpt-5.1, gpt-5-pro
# - anthropic: claude-3-haiku-20240307, claude-3-5-sonnet-20241022, claude-3-opus-20240229
#
# NOTE: GPT-5 models require temperature=1.0
#

default:
  model: gpt-5-mini
  temperature: 1.0
categories:
  application-phd:
    model: gpt-5.1
    temperature: 1.0
  application-postdoc:
    model: gpt-5.1
    temperature: 1.0
  application-*:
    model: gpt-5.1
    temperature: 1.0
  invitation-speaking:
    provider: anthropic
    model: claude-3-5-sonnet-20241022
    temperature: 0.2
  invitation-committee:
    model: gpt-5.1
    temperature: 1.0
  invitation-*:
    model: gpt-5-mini
    temperature: 1.0
  review-peer-journal:
    model: gpt-5.1
    temperature: 1.0
  review-peer-conference:
    model: gpt-5.1
    temperature: 1.0
  review-*:
    model: gpt-5-mini
    temperature: 1.0
  publication-decision-accept:
    model: gpt-5-mini
    temperature: 1.0
  publication-decision-reject:
    model: gpt-5-mini
    temperature: 1.0
  publication-*:
    model: gpt-5-mini
    temperature: 1.0
  grant-decision-awarded:
    model: gpt-5-mini
    temperature: 1.0
  grant-decision-rejected:
    model: gpt-5-mini
    temperature: 1.0
  grant-reporting:
    model: gpt-5-mini
    temperature: 1.0
  grant-*:
    model: gpt-5-mini
    temperature: 1.0
  travel-booking-confirm:
    model: gpt-5-mini
    temperature: 1.0
  travel-reminder:
    model: gpt-5-mini
    temperature: 1.0
  travel-*:
    model: gpt-5-mini
    temperature: 1.0
  immo-listing:
    model: gpt-5-mini
    temperature: 1.0
  immo-*:
    model: gpt-5-mini
    temperature: 1.0
env_overrides:
  enabled: true
  patterns:
  - category_prefix: application
    env_var: APPLICATION_LLM_MODEL
  - category_prefix: invitation
    env_var: INVITATION_LLM_MODEL
  - category_prefix: review
    env_var: REVIEW_LLM_MODEL
  - category_prefix: publication
    env_var: PUBLICATION_LLM_MODEL
  - category_prefix: grant
    env_var: GRANT_LLM_MODEL
  - category_prefix: travel
    env_var: TRAVEL_LLM_MODEL
  - category_prefix: immo
    env_var: IMMO_LLM_MODEL
